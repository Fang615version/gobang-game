# 五子棋项目执行标准

本文档定义了五子棋网页版项目的开发执行标准，所有开发活动需严格参照本标准执行。

---

## 一、开发流程标准

### 1.1 开发前准备
- 每次开始开发新功能前，先阅读 `plan.md` 中对应的功能描述
- 确认当前任务的具体目标和验收标准
- 如有疑问，先进行技术调研或方案设计

### 1.2 开发过程规范
- 代码编写遵循清晰、简洁、可读的原则
- 每完成一个独立功能模块，必须进行功能测试
- 测试通过后才能进行下一步开发

### 1.3 功能完成标准
每个功能完成时需满足以下标准：
- [ ] 功能需求已完整实现
- [ ] 代码已通过功能测试
- [ ] 无明显的 bug 或错误
- [ ] 代码格式规范，有必要的注释
- [ ] UI/UX 符合设计预期

---

## 二、代码规范

### 2.1 命名规范
- **变量名**：使用驼峰命名法（camelCase），如 `currentPlayer`
- **常量名**：使用大写下划线（UPPER_SNAKE_CASE），如 `BOARD_SIZE`
- **函数名**：使用驼峰命名法，动词开头，如 `placePiece()`
- **类名**：使用帕斯卡命名法（PascalCase），如 `GameEngine`
- **HTML ID/Class**：使用短横线连接（kebab-case），如 `game-board`

### 2.2 代码格式
- 使用 2 空格缩进
- 每行代码不超过 80 字符
- 语句末尾必须使用分号
- 运算符前后加空格（如 `a + b`）
- 逗号后加空格

### 2.3 注释规范
- 复杂逻辑必须添加注释说明
- 函数功能必须用 JSDoc 风格注释
- 关键算法需要添加注释说明思路

### 2.4 模块化原则
- JavaScript 代码按功能模块化组织
- CSS 样式按组件或页面区域分类
- 避免重复代码，提取公共函数

---

## 三、测试标准

### 3.1 功能测试检查点

#### 棋盘绘制
- [ ] 棋盘完整显示 15x15 网格
- [ ] 网格线条清晰、位置准确
- [ ] 棋盘在不同屏幕尺寸下正常显示
- [ ] 木纹背景效果正常显示

#### 落子功能
- [ ] 鼠标点击棋盘交叉点正确落子
- [ ] 黑白棋子交替正确
- [ ] 已落子位置不能重复落子
- [ ] 棋子样式美观（立体效果）
- [ ] 点击棋盘边缘不越界

#### 胜负判定
- [ ] 横向五子连珠正确判定
- [ ] 纵向五子连珠正确判定
- [ ] 斜向（左上-右下）五子连珠正确判定
- [ ] 斜向（右上-左下）五子连珠正确判定
- [ ] 只要有五子即判定胜利，不额外判定六子
- [ ] 胜负判定后棋盘锁定，不能继续落子

#### 交互功能
- [ ] 当前执棋方实时更新显示
- [ ] 上一步落子位置正确高亮
- [ ] 重新开始按钮清空棋盘、重置状态
- [ ] 悔棋功能正确撤销上一步棋
- [ ] 只能悔棋，悔后不能悔（或者允许连续悔棋）

#### UI/UX
- [ ] 整体界面布局美观协调
- [ ] 胜负弹窗清晰显示结果
- [ ] 响应式布局在手机端可用
- [ ] 无明显视觉瑕疵

### 3.2 测试执行方式
1. 每完成一个功能模块，手动进行完整功能测试
2. 测试发现 bug 立即修复，修复后重新测试
3. 记录测试结果（通过/失败）
4. 功能验收通过后方可进入下一个功能开发

---

## 四、UI/UX 设计标准

### 4.1 设计原则
- 简洁：界面简洁明了，不添加多余元素
- 一致：颜色、字体、间距保持一致
- 反馈：操作有明确的视觉反馈
- 可用：按钮、交互元素大小适中，易于点击

### 4.2 颜色规范
| 用途 | 颜色值 | 说明 |
|------|--------|------|
| 页面背景 | #f0f0f0 | 浅灰背景 |
| 棋盘背景 | #DEB887 | 实木色 |
| 棋盘线条 | #333333 | 深色线条 |
| 黑棋 | #000000 | 纯黑 |
| 白棋 | #FFFFFF | 纯白 |
| 按钮主色 | #4CAF50 | 绿色 |
| 按钮悬停 | #45a049 | 深绿 |
| 提示背景 | rgba(0,0,0,0.8) | 半透明黑 |

### 4.3 尺寸规范
- 棋盘：600x600px（桌面端），响应式缩小（移动端）
- 棋子：直径约 36px（网格间距的 85%）
- 按钮：高度 40px，最小宽度 100px
- 字体：基础字体 14px，标题 18px

---

## 五、兼容性标准

### 5.1 浏览器支持
- Chrome (最新版本)
- Firefox (最新版本)
- Safari (最新版本)
- Edge (最新版本)

### 5.2 设备支持
- 桌面端：1920x1080、1366x768 等主流分辨率
- 移动端：iOS Safari、Android Chrome

---

## 六、文件组织标准

### 6.1 目录结构
严格按照以下结构组织文件：

```
gobang-game/
├── index.html          # 唯一的入口 HTML 文件
├── css/
│   └── style.css       # 唯一的样式文件
├── js/
│   └── game.js         # 唯一的逻辑文件
├── plan.md             # 项目计划
└── CLAUDE.md           # 本执行标准文档
```

### 6.2 文件编写顺序
1. 先编写 HTML 结构
2. 再编写 CSS 样式
3. 最后编写 JavaScript 逻辑

---

## 七、验收标准

项目最终验收需满足：
- [ ] 所有核心功能正常工作
- [ ] 无严重 bug
- [ ] UI/UX 达到预期效果
- [ ] 在主流浏览器中正常运行
- [ ] 代码符合本规范要求
- [ ] 有必要的文档说明

---

## 八、常见问题处理

### 问题：棋盘对不齐
**解决**：检查 Canvas 尺寸计算，确保网格间距均匀

### 问题：胜负判定错误
**解决**：检查边界条件，避免数组越界访问

### 问题：响应式布局异常
**解决**：使用 CSS media query，设置最大宽度限制

### 问题：性能问题
**解决**：避免重复绘制，优化 Canvas 渲染逻辑

---

**重要提示：** 每完成一个功能，必须在对应检查点打钩确认，确保质量符合标准。
